<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f4;
        }

        .container {
            background-color: #fff;
            padding: 20px 40px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 350px;
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
        }

        .result-container {
            background-color: #e9e9e9;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #password {
            font-size: 18px;
            word-wrap: break-word;
            flex-grow: 1;
            margin-right: 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .settings {
            text-align: left;
            margin-bottom: 20px;
        }

        .setting {
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Generate Password</h1>
        <div class="result-container">
            <span id="password">Your Password</span>
            <button class="btn" id="copy" onclick="copyPassword()">Copy</button>
        </div>
        
        <div class="settings">
            <div class="setting">
                <label for="length">Password Length</label>
                <input type="number" id="length" min="4" max="20" value="12">
            </div>
            <div class="setting">
                <label for="uppercase">Include Uppercase Letters</label>
                <input type="checkbox" id="uppercase" checked>
            </div>
            <div class="setting">
                <label for="lowercase">Include Lowercase Letters</label>
                <input type="checkbox" id="lowercase" checked>
            </div>
            <div class="setting">
                <label for="numbers">Include Numbers</label>
                <input type="checkbox" id="numbers" checked>
            </div>
            <div class="setting">
                <label for="symbols">Include Symbols</label>
                <input type="checkbox" id="symbols" checked>
            </div>
        </div>
        
        <button class="btn btn-large" id="generate" onclick="generatePasswordUI()">Generate Password</button>
    </div>

    <script>
        // DOM elements
        const passwordEl = document.getElementById('password');
        const lengthEl = document.getElementById('length');
        const uppercaseEl = document.getElementById('uppercase');
        const lowercaseEl = document.getElementById('lowercase');
        const numbersEl = document.getElementById('numbers');
        const symbolsEl = document.getElementById('symbols');
        
        // Character sets
        const randomFunc = {
            lower: getRandomLower,
            upper: getRandomUpper,
            number: getRandomNumber,
            symbol: getRandomSymbol
        };

        // Event listeners
        function generatePasswordUI() {
            const length = +lengthEl.value;
            const hasUpper = uppercaseEl.checked;
            const hasLower = lowercaseEl.checked;
            const hasNumber = numbersEl.checked;
            const hasSymbol = symbolsEl.checked;

            passwordEl.innerText = generatePassword(
                hasLower, 
                hasUpper, 
                hasNumber, 
                hasSymbol, 
                length
            );
        }

        // Generate password function
        function generatePassword(lower, upper, number, symbol, length) {
            let generatedPassword = '';
            const typesCount = lower + upper + number + symbol;
            const typesArr = [{ lower }, { upper }, { number }, { symbol }].filter(item => Object.values(item)[0]);

            if (typesCount === 0) {
                return '';
            }

            for (let i = 0; i < length; i += typesCount) {
                typesArr.forEach(type => {
                    const funcName = Object.keys(type)[0];
                    generatedPassword += randomFunc[funcName]();
                });
            }

            // Trim to exact length and shuffle the result (optional but better)
            const finalPassword = generatedPassword.slice(0, length);
            return shufflePassword(finalPassword);
        }

        // Helper function to shuffle the generated password
        function shufflePassword(str) {
            let array = str.split('');
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array.join('');
        }

        // Copy password to clipboard
        function copyPassword() {
            const password = passwordEl.innerText;
            if (password === 'Your Password' || password === '') {
                return;
            }
            navigator.clipboard.writeText(password).then(() => {
                alert('Password copied to clipboard!');
            }).catch(err => {
                console.error('Could not copy text: ', err);
            });
        }

        // Generator functions (using Math.random for simplicity, window.crypto is more secure for production)
        function getRandomLower() {
            return String.fromCharCode(Math.floor(Math.random() * 26) + 97); // ASCII a-z
        }

        function getRandomUpper() {
            return String.fromCharCode(Math.floor(Math.random() * 26) + 65); // ASCII A-Z
        }

        function getRandomNumber() {
            return String.fromCharCode(Math.floor(Math.random() * 10) + 48); // ASCII 0-9
        }

        function getRandomSymbol() {
            const symbols = '!@#$%^&*(){}[]=<>/,.';
            return symbols[Math.floor(Math.random() * symbols.length)];
        }
    </script>
</body>
</html>
